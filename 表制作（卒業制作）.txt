create table Post(
	pPostID NUMBER(10) CONSTRAINT pk_postid PRIMARY KEY,
	uUserID NUMBER(10) CONSTRAINT fk_users_userid REFERENCES users(uUserID),
	pPostContext VARCHAR2(500) NOT NULL,
	pPostDate DATE default sysdate,
	pState NUMBER(1)
);


create table Users(
	uUserID NUMBER(10) CONSTRAINT pk_userid PRIMARY KEY,
	uLoginID VARCHAR2(30) UNIQUE NOT NULL,
	uPassword VARCHAR2(30) NOT NULL,
	uUserName VARCHAR2(40) NOT NULL,
	uRegistrationDate DATE default SYSDATE,
	uIntroduction VARCHAR2(320) default SYSDATE,
	uIconPath VARCHAR2(500) default 'default.png',
	uHeaderImagePath VARCHAR2(500) default 'default.png'
);


	
create table Reply(
	rReplyID NUMBER(10) CONSTRAINT pk_replyid PRIMARY KEY,
	pPostID NUMBER(10) CONSTRAINT fk_post_postid REFERENCES Post(pPostID),
	uTargetUserID NUMBER(10) CONSTRAINT fk_user_targetuserid REFERENCES Users(uUserID), 
	uUserID NUMBER(10) CONSTRAINT fk_user_userid REFERENCES Users(uUserID),
	rReplyDate DATE default SYSDATE,
	rReplyContent VARCHAR2(240) NOT NULL
);


create table Attachment(
	aAttachmentID NUMBER(10) CONSTRAINT pk_attachmentid PRIMARY KEY,
	pPostID NUMBER(10) CONSTRAINT fk_post_postid2 REFERENCES Post(pPostID), 
	aFIlePath VARCHAR2(500) NOT NULL
);

create table Follow(
	uFollowID NUMBER(10) CONSTRAINT fk_user_followid REFERENCES Users(uUserID),
	uObserberID NUMBER(10) CONSTRAINT fk_user_obserberid REFERENCES Users(uUserID)
);
	


CREATE SEQUENCE POSTID_SEQ
	INCREMENT BY 1
	START WITH 1;

CREATE SEQUENCE USERID_SEQ
	INCREMENT BY 1
	START WITH 1 ;

CREATE SEQUENCE REPLYID_SEQ
	INCREMENT BY 1
	START WITH 1 ;

CREATE SEQUENCE ATTACHMENTID_SEQ
	INCREMENT BY 1
	START WITH 1;

